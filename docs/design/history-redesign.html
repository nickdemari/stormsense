<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>History — Redesign</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>

<style>
  :root {
    /* Deep space palette */
    --bg-primary: #0C0C14;
    --bg-card: #14141F;
    --bg-card-hover: #1A1A28;
    --bg-elevated: #1E1E2E;
    --bg-nav: rgba(14, 14, 22, 0.85);

    /* Text */
    --text-primary: #F0EDE8;
    --text-secondary: rgba(240, 237, 232, 0.55);
    --text-tertiary: rgba(240, 237, 232, 0.30);

    /* Temperature — molten amber */
    --temp-primary: #F59E0B;
    --temp-secondary: #F97316;
    --temp-glow: rgba(245, 158, 11, 0.15);
    --temp-fill-top: rgba(249, 115, 22, 0.25);
    --temp-fill-bottom: rgba(249, 115, 22, 0.02);

    /* Pressure — arctic blue */
    --pres-primary: #38BDF8;
    --pres-secondary: #0EA5E9;
    --pres-glow: rgba(56, 189, 248, 0.12);
    --pres-fill-top: rgba(14, 165, 233, 0.20);
    --pres-fill-bottom: rgba(14, 165, 233, 0.02);

    /* Accents */
    --success: #34D399;
    --warning: #FBBF24;
    --danger: #F87171;
    --border: rgba(240, 237, 232, 0.06);
    --border-active: rgba(240, 237, 232, 0.12);

    /* Sizing */
    --radius-sm: 8px;
    --radius-md: 14px;
    --radius-lg: 20px;
    --radius-xl: 24px;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    font-family: 'Outfit', sans-serif;
    color: var(--text-primary);
  }

  /* ── Phone Frame ────────────────────────── */
  .phone-frame {
    width: 393px;
    height: 852px;
    border-radius: 50px;
    border: 3px solid #2a2a2a;
    background: var(--bg-primary);
    position: relative;
    overflow: hidden;
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.05),
      0 25px 80px rgba(0,0,0,0.6),
      inset 0 0 0 1px rgba(255,255,255,0.03);
  }

  /* Status bar */
  .status-bar {
    height: 54px;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    padding: 0 28px 8px;
    font-size: 15px;
    font-weight: 600;
    letter-spacing: -0.2px;
    position: relative;
    z-index: 10;
  }
  .status-bar .time { font-feature-settings: 'tnum'; }
  .status-bar .icons {
    display: flex;
    gap: 5px;
    align-items: center;
    font-size: 13px;
  }

  /* Dynamic Island */
  .dynamic-island {
    width: 126px;
    height: 36px;
    background: #000;
    border-radius: 20px;
    position: absolute;
    top: 12px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 20;
  }

  /* ── Scrollable Content ────────────────── */
  .content {
    height: calc(852px - 54px - 82px);
    overflow-y: auto;
    padding: 4px 16px 24px;
    scrollbar-width: none;
  }
  .content::-webkit-scrollbar { display: none; }

  /* ── Header ────────────────────────────── */
  .page-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding: 0 2px;
  }
  .page-title {
    font-family: 'DM Serif Text', serif;
    font-size: 28px;
    font-weight: 400;
    letter-spacing: -0.5px;
    color: var(--text-primary);
  }
  .header-actions {
    display: flex;
    gap: 8px;
  }
  .header-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .header-btn:hover {
    background: var(--bg-card-hover);
    border-color: var(--border-active);
    color: var(--text-primary);
  }

  /* ── Time Range Selector ───────────────── */
  .time-range {
    display: flex;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    padding: 3px;
    margin-bottom: 20px;
    border: 1px solid var(--border);
  }
  .time-range button {
    flex: 1;
    padding: 8px 0;
    border: none;
    background: transparent;
    color: var(--text-tertiary);
    font-family: 'Outfit', sans-serif;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.3px;
    border-radius: 11px;
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  .time-range button.active {
    background: var(--bg-elevated);
    color: var(--text-primary);
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  }
  .time-range button:not(.active):hover {
    color: var(--text-secondary);
  }

  /* ── Metric Card ───────────────────────── */
  .metric-card {
    background: var(--bg-card);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: 18px 18px 14px;
    margin-bottom: 16px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s;
  }
  .metric-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    opacity: 0.5;
  }
  .metric-card.temperature::before {
    background: linear-gradient(90deg, transparent, var(--temp-primary), transparent);
  }
  .metric-card.pressure::before {
    background: linear-gradient(90deg, transparent, var(--pres-primary), transparent);
  }

  /* Card Header */
  .card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 14px;
  }
  .card-label {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .card-icon {
    width: 32px;
    height: 32px;
    border-radius: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
  }
  .temperature .card-icon {
    background: var(--temp-glow);
    color: var(--temp-primary);
  }
  .pressure .card-icon {
    background: var(--pres-glow);
    color: var(--pres-primary);
  }
  .card-title {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-secondary);
    letter-spacing: 0.3px;
  }
  .card-subtitle {
    font-size: 11px;
    color: var(--text-tertiary);
    margin-top: 1px;
  }
  .card-trend {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    font-weight: 500;
    padding: 4px 8px;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
  }
  .trend-up {
    background: rgba(52, 211, 153, 0.1);
    color: var(--success);
  }
  .trend-down {
    background: rgba(248, 113, 113, 0.1);
    color: var(--danger);
  }
  .trend-stable {
    background: rgba(251, 191, 36, 0.1);
    color: var(--warning);
  }

  /* Live Value */
  .live-value-row {
    display: flex;
    align-items: baseline;
    gap: 16px;
    margin-bottom: 16px;
    padding: 0 2px;
  }
  .live-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 36px;
    font-weight: 700;
    letter-spacing: -1.5px;
    line-height: 1;
  }
  .temperature .live-value { color: var(--temp-primary); }
  .pressure .live-value { color: var(--pres-primary); }
  .live-unit {
    font-size: 16px;
    font-weight: 400;
    color: var(--text-tertiary);
    margin-left: -8px;
  }

  /* Stats Row */
  .stats-row {
    display: flex;
    gap: 1px;
    background: var(--border);
    border-radius: var(--radius-sm);
    overflow: hidden;
    margin-bottom: 16px;
  }
  .stat-item {
    flex: 1;
    background: var(--bg-elevated);
    padding: 10px 12px;
    text-align: center;
  }
  .stat-item:first-child { border-radius: var(--radius-sm) 0 0 var(--radius-sm); }
  .stat-item:last-child { border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }
  .stat-label {
    font-size: 10px;
    font-weight: 500;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin-bottom: 4px;
  }
  .stat-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.3px;
  }

  /* Chart */
  .chart-wrap {
    position: relative;
    height: 150px;
    margin: 0 -6px;
  }

  /* ── Bottom Nav ────────────────────────── */
  .bottom-nav {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 82px;
    background: var(--bg-nav);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border-top: 1px solid var(--border);
    display: flex;
    align-items: flex-start;
    justify-content: space-around;
    padding-top: 10px;
    padding-bottom: 28px;
  }
  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
  }
  .nav-icon {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: var(--text-tertiary);
    transition: all 0.2s;
  }
  .nav-label {
    font-size: 10px;
    font-weight: 500;
    color: var(--text-tertiary);
    letter-spacing: 0.3px;
    transition: all 0.2s;
  }
  .nav-item.active .nav-icon {
    color: var(--text-primary);
  }
  .nav-item.active .nav-label {
    color: var(--text-primary);
  }
  .nav-item.active::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 2px;
    background: var(--text-primary);
    border-radius: 1px;
  }
  .nav-item:not(.active):hover .nav-icon,
  .nav-item:not(.active):hover .nav-label {
    color: var(--text-secondary);
  }

  /* ── Animations ────────────────────────── */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes countUp {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes glowPulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }

  .page-header { animation: fadeInUp 0.5s ease both; }
  .time-range { animation: fadeInUp 0.5s ease 0.05s both; }
  .metric-card:nth-child(3) { animation: fadeInUp 0.5s ease 0.1s both; }
  .metric-card:nth-child(4) { animation: fadeInUp 0.5s ease 0.2s both; }
  .metric-card::before { animation: glowPulse 3s ease-in-out infinite; }

  /* ── Comparison layout ─────────────────── */
  .comparison-container {
    display: flex;
    gap: 16px;
    align-items: flex-start;
  }
  .comparison-container .phone-frame {
    flex-shrink: 0;
  }

  .label {
    position: absolute;
    top: -36px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Outfit', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 2px;
    white-space: nowrap;
  }

  .wrapper {
    position: relative;
    margin-top: 50px;
  }

  /* ── SVG Icons (inline) ────────────────── */
  .icon-svg {
    width: 18px;
    height: 18px;
  }

  /* ── Scrollbar for content ─────────────── */
  .content {
    scroll-behavior: smooth;
  }

  /* ── Glow effects ──────────────────────── */
  .temperature .live-value {
    text-shadow: 0 0 30px rgba(245, 158, 11, 0.2);
  }
  .pressure .live-value {
    text-shadow: 0 0 30px rgba(56, 189, 248, 0.2);
  }
</style>
</head>
<body>

<div class="wrapper">
  <div class="phone-frame">
    <div class="dynamic-island"></div>

    <div class="status-bar">
      <span class="time">12:00</span>
      <span class="icons">
        <svg width="16" height="12" viewBox="0 0 16 12" fill="currentColor"><path d="M8 3.6a5.9 5.9 0 0 1 4.15 1.7l1.42-1.42A8.3 8.3 0 0 0 8 1.2a8.3 8.3 0 0 0-5.57 2.68L3.85 5.3A5.9 5.9 0 0 1 8 3.6zm0 3.6c1.1 0 2.1.45 2.83 1.17l1.42-1.41A5.9 5.9 0 0 0 8 4.8a5.9 5.9 0 0 0-4.24 1.76l1.41 1.41A3.9 3.9 0 0 1 8 7.2zM8 9.6c-.66 0-1.26.27-1.7.7L8 12l1.7-1.7c-.44-.43-1.04-.7-1.7-.7z"/></svg>
        <svg width="22" height="12" viewBox="0 0 22 12" fill="currentColor"><rect x="0" y="1" width="18" height="10" rx="2" stroke="currentColor" stroke-width="1" fill="none"/><rect x="19" y="4" width="2" height="4" rx="0.5"/><rect x="2" y="3" width="14" height="6" rx="1" fill="currentColor"/></svg>
      </span>
    </div>

    <div class="content">
      <!-- Header -->
      <div class="page-header">
        <h1 class="page-title">History</h1>
        <div class="header-actions">
          <button class="header-btn" title="Export">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          </button>
          <button class="header-btn" title="Calendar">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          </button>
        </div>
      </div>

      <!-- Time Range -->
      <div class="time-range">
        <button>1H</button>
        <button class="active">2H</button>
        <button>6H</button>
        <button>12H</button>
        <button>1D</button>
        <button>1W</button>
      </div>

      <!-- Temperature Card -->
      <div class="metric-card temperature">
        <div class="card-header">
          <div class="card-label">
            <div class="card-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>
            </div>
            <div>
              <div class="card-title">Temperature</div>
              <div class="card-subtitle">Last 2 hours</div>
            </div>
          </div>
          <div class="card-trend trend-up">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="18 15 12 9 6 15"/></svg>
            +2.3°
          </div>
        </div>

        <div class="live-value-row">
          <span class="live-value">53.4</span>
          <span class="live-unit">°C</span>
        </div>

        <div class="stats-row">
          <div class="stat-item">
            <div class="stat-label">Min</div>
            <div class="stat-value">36.8°</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Avg</div>
            <div class="stat-value">51.2°</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Max</div>
            <div class="stat-value">55.9°</div>
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="tempChart"></canvas>
        </div>
      </div>

      <!-- Pressure Card -->
      <div class="metric-card pressure">
        <div class="card-header">
          <div class="card-label">
            <div class="card-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
            </div>
            <div>
              <div class="card-title">Pressure</div>
              <div class="card-subtitle">Last 2 hours</div>
            </div>
          </div>
          <div class="card-trend trend-down">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>
            −2.1
          </div>
        </div>

        <div class="live-value-row">
          <span class="live-value">1008.7</span>
          <span class="live-unit">hPa</span>
        </div>

        <div class="stats-row">
          <div class="stat-item">
            <div class="stat-label">Min</div>
            <div class="stat-value">1008.2</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Avg</div>
            <div class="stat-value">1009.8</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Max</div>
            <div class="stat-value">1010.9</div>
          </div>
        </div>

        <div class="chart-wrap">
          <canvas id="presChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Bottom Nav -->
    <div class="bottom-nav">
      <div class="nav-item">
        <div class="nav-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><rect x="3" y="3" width="7" height="7" rx="1.5"/><rect x="14" y="3" width="7" height="7" rx="1.5"/><rect x="3" y="14" width="7" height="7" rx="1.5"/><rect x="14" y="14" width="7" height="7" rx="1.5"/></svg>
        </div>
        <span class="nav-label">Dashboard</span>
      </div>
      <div class="nav-item active">
        <div class="nav-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        </div>
        <span class="nav-label">History</span>
      </div>
      <div class="nav-item">
        <div class="nav-icon">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        </div>
        <span class="nav-label">Settings</span>
      </div>
    </div>
  </div>
</div>

<script>
// ── Generate realistic sensor data ──────────────────
function generateTempData(count) {
  const data = [];
  let val = 37;
  const riseEnd = Math.floor(count * 0.15);

  for (let i = 0; i < count; i++) {
    if (i < riseEnd) {
      // Initial rapid rise
      val += (54 - 37) / riseEnd + (Math.random() - 0.4) * 1.5;
    } else {
      // Fluctuation around 52-54
      val += (Math.random() - 0.5) * 1.2;
      val = Math.max(50, Math.min(56, val));
    }
    data.push(parseFloat(val.toFixed(1)));
  }
  return data;
}

function generatePresData(count) {
  const data = [];
  let val = 1010.8;

  for (let i = 0; i < count; i++) {
    // Slow decline with small fluctuations
    val -= 0.025 + (Math.random() - 0.45) * 0.15;
    val = Math.max(1007.5, Math.min(1011.5, val));
    data.push(parseFloat(val.toFixed(1)));
  }
  return data;
}

function generateLabels(count) {
  const labels = [];
  const startMinutes = 10 * 60 + 5; // 10:05
  const endMinutes = 12 * 60; // 12:00
  const step = (endMinutes - startMinutes) / (count - 1);

  for (let i = 0; i < count; i++) {
    const m = Math.round(startMinutes + step * i);
    const h = Math.floor(m / 60);
    const min = m % 60;
    labels.push(`${h}:${min.toString().padStart(2, '0')}`);
  }
  return labels;
}

const dataPoints = 120;
const labels = generateLabels(dataPoints);
const tempData = generateTempData(dataPoints);
const presData = generatePresData(dataPoints);

// ── Chart.js defaults ───────────────────────────────
Chart.defaults.font.family = "'JetBrains Mono', monospace";
Chart.defaults.font.size = 10;
Chart.defaults.color = 'rgba(240, 237, 232, 0.25)';

const commonOptions = {
  responsive: true,
  maintainAspectRatio: false,
  interaction: {
    mode: 'index',
    intersect: false,
  },
  plugins: {
    legend: { display: false },
    tooltip: {
      backgroundColor: 'rgba(20, 20, 31, 0.95)',
      titleColor: 'rgba(240, 237, 232, 0.55)',
      bodyColor: '#F0EDE8',
      bodyFont: { family: "'JetBrains Mono', monospace", size: 13, weight: '600' },
      titleFont: { family: "'Outfit', sans-serif", size: 11 },
      padding: { top: 8, bottom: 8, left: 12, right: 12 },
      cornerRadius: 10,
      borderColor: 'rgba(240, 237, 232, 0.08)',
      borderWidth: 1,
      displayColors: false,
      caretSize: 0,
    }
  },
  scales: {
    x: {
      grid: {
        display: false,
      },
      border: { display: false },
      ticks: {
        maxTicksLimit: 5,
        font: { size: 9 },
        color: 'rgba(240, 237, 232, 0.2)',
        padding: 4,
      }
    },
    y: {
      grid: {
        color: 'rgba(240, 237, 232, 0.04)',
        lineWidth: 1,
      },
      border: { display: false },
      ticks: {
        maxTicksLimit: 5,
        font: { size: 9 },
        color: 'rgba(240, 237, 232, 0.2)',
        padding: 8,
      }
    }
  },
  elements: {
    point: { radius: 0, hoverRadius: 4, hoverBorderWidth: 2 },
    line: { tension: 0.35, borderWidth: 2 },
  }
};

// ── Temperature Chart ───────────────────────────────
const tempCtx = document.getElementById('tempChart').getContext('2d');
const tempGrad = tempCtx.createLinearGradient(0, 0, 0, 150);
tempGrad.addColorStop(0, 'rgba(249, 115, 22, 0.22)');
tempGrad.addColorStop(0.7, 'rgba(249, 115, 22, 0.04)');
tempGrad.addColorStop(1, 'rgba(249, 115, 22, 0)');

new Chart(tempCtx, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      data: tempData,
      borderColor: '#F59E0B',
      backgroundColor: tempGrad,
      fill: true,
      pointHoverBackgroundColor: '#F59E0B',
      pointHoverBorderColor: '#0C0C14',
    }]
  },
  options: {
    ...commonOptions,
    plugins: {
      ...commonOptions.plugins,
      tooltip: {
        ...commonOptions.plugins.tooltip,
        callbacks: {
          title: (ctx) => ctx[0].label,
          label: (ctx) => `${ctx.parsed.y}°C`
        }
      }
    }
  }
});

// ── Pressure Chart ──────────────────────────────────
const presCtx = document.getElementById('presChart').getContext('2d');
const presGrad = presCtx.createLinearGradient(0, 0, 0, 150);
presGrad.addColorStop(0, 'rgba(14, 165, 233, 0.18)');
presGrad.addColorStop(0.7, 'rgba(14, 165, 233, 0.03)');
presGrad.addColorStop(1, 'rgba(14, 165, 233, 0)');

new Chart(presCtx, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      data: presData,
      borderColor: '#38BDF8',
      backgroundColor: presGrad,
      fill: true,
      pointHoverBackgroundColor: '#38BDF8',
      pointHoverBorderColor: '#0C0C14',
    }]
  },
  options: {
    ...commonOptions,
    plugins: {
      ...commonOptions.plugins,
      tooltip: {
        ...commonOptions.plugins.tooltip,
        callbacks: {
          title: (ctx) => ctx[0].label,
          label: (ctx) => `${ctx.parsed.y} hPa`
        }
      }
    }
  }
});

// ── Time range button interaction ───────────────────
document.querySelectorAll('.time-range button').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelector('.time-range .active')?.classList.remove('active');
    btn.classList.add('active');
  });
});
</script>

</body>
</html>